{"version":3,"file":"static/js/658.b58bb243.chunk.js","mappings":"8OAMe,SAASA,EAAeC,GACrC,IAAQC,EAAeD,EAAfC,WACR,GAKIC,EAAAA,EAAAA,GAAmBC,EAAAA,GAJrBC,EAAc,EAAdA,eACAC,EAAiB,EAAjBA,kBACAC,EAA4B,EAA5BA,6BACAC,EAA+B,EAA/BA,iCAGFC,EAAAA,EAAAA,YAAU,YACRC,EAAAA,EAAAA,GAAgBR,EAAYM,EAC9B,GAAG,IAEH,IAAMG,GAAsBC,EAAAA,EAAAA,UAC1B,kBAAMC,OAAOC,KAAKP,EAA6B,GAC/C,CAACA,IAGGQ,GAAyBC,EAAAA,EAAAA,cAC7B,SAACC,GACCX,GAAkB,SAACY,GAAW,OAC5BC,EAAAA,EAAAA,IAAQD,GAAa,SAACE,GACfF,EAAYG,IAAInB,GAAYoB,SAASL,EAAEM,OAAOC,IAMjDJ,EAAMK,IACJvB,EACAgB,EACGG,IAAInB,GACJwB,QAAO,SAACC,GAAM,OAAKA,IAAWV,EAAEM,OAAOC,EAAE,KAT9CJ,EAAMK,IAAIvB,EAAW,GAAD,eACfgB,EAAYG,IAAInB,IAAW,CAC9Be,EAAEM,OAAOC,KAUf,GAAE,GAEN,GACA,CAACnB,IAGH,OACE,gBAAKuB,UAAU,uBAAsB,SAClCjB,EAAoBkB,KAAI,SAACF,GAAM,aAC9B,mBAAoBC,UAAU,cAAa,WACzC,kBACEA,UAAU,uBACVE,KAAK,WACLN,GAAIG,EACJI,iBAAgD,QAA/B,EAAC1B,EAAegB,IAAInB,UAAW,QAA9B,EAAgCoB,SAASK,IAC3DK,QAASjB,IACR,IACFY,IARSA,EASJ,KAIhB,C","sources":["components/CheckboxModule/CheckboxModule.js"],"sourcesContent":["import React, { useCallback, useEffect, useMemo } from \"react\";\r\nimport produce from \"immer\";\r\nimport { SelectedModulesContext } from \"../../state/SelectedModulesContext\";\r\nimport { useRequiredContext } from \"../../hooks/useRequiredContext\";\r\nimport { downloadModules } from \"../../utils/formUtils\";\r\n\r\nexport default function CheckboxModule(props) {\r\n  const { schoolbook } = props;\r\n  const {\r\n    checkedModules,\r\n    setCheckedModules,\r\n    downloadedSelectedSchoolbook,\r\n    setDownloadedSelectedSchoolbook,\r\n  } = useRequiredContext(SelectedModulesContext);\r\n\r\n  useEffect(() => {\r\n    downloadModules(schoolbook, setDownloadedSelectedSchoolbook);\r\n  }, []);\r\n\r\n  const memoizedListModules = useMemo(\r\n    () => Object.keys(downloadedSelectedSchoolbook),\r\n    [downloadedSelectedSchoolbook]\r\n  );\r\n\r\n  const modulesCheckboxHandler = useCallback(\r\n    (e) => {\r\n      setCheckedModules((prevModules) =>\r\n        produce(prevModules, (draft) => {\r\n          if (!prevModules.get(schoolbook).includes(e.target.id)) {\r\n            draft.set(schoolbook, [\r\n              ...prevModules.get(schoolbook),\r\n              e.target.id,\r\n            ]);\r\n          } else {\r\n            draft.set(\r\n              schoolbook,\r\n              prevModules\r\n                .get(schoolbook)\r\n                .filter((module) => module !== e.target.id)\r\n            );\r\n          }\r\n        })\r\n      );\r\n    },\r\n    [checkedModules]\r\n  );\r\n\r\n  return (\r\n    <div className='form-module--wrapper'>\r\n      {memoizedListModules.map((module) => (\r\n        <label key={module} className='form-module'>\r\n          <input\r\n            className='form-module-checkbox'\r\n            type='checkbox'\r\n            id={module}\r\n            defaultChecked={!!checkedModules.get(schoolbook)?.includes(module)}\r\n            onClick={modulesCheckboxHandler}\r\n          />{\" \"}\r\n          {module}\r\n        </label>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n"],"names":["CheckboxModule","props","schoolbook","useRequiredContext","SelectedModulesContext","checkedModules","setCheckedModules","downloadedSelectedSchoolbook","setDownloadedSelectedSchoolbook","useEffect","downloadModules","memoizedListModules","useMemo","Object","keys","modulesCheckboxHandler","useCallback","e","prevModules","produce","draft","get","includes","target","id","set","filter","module","className","map","type","defaultChecked","onClick"],"sourceRoot":""}